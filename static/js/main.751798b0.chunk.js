(this["webpackJsonpre-forms2"]=this["webpackJsonpre-forms2"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(8),a=n.n(c),d=(n(15),n(16),n(3)),s=n(6),o=n(9),u=n(7),j=n(10),l=n(0);function b(e){var t=e.form,n=e.onSubmit,i=e.onChange;return Object(l.jsxs)("form",{className:"TrainRecordForm",onSubmit:n,children:[Object(l.jsxs)("label",{children:["\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413\u0413\u0413)",Object(l.jsx)("input",{className:"TrainRecordForm__date",name:"date",value:t.date,onChange:i})]}),Object(l.jsxs)("label",{children:["\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c",Object(l.jsx)("input",{className:"TrainRecordForm__dist",name:"dist",value:t.dist,onChange:i})]}),Object(l.jsx)("button",{className:"TrainRecordForm__button",children:"OK"})]})}function m(e){var t=e.item,n=e.onEdit,i=e.onDelete;return Object(l.jsxs)("li",{className:"TrainRecord__item",children:[Object(l.jsx)("div",{children:t.date.toLocaleDateString()}),Object(l.jsx)("div",{children:+t.dist.toFixed(2)}),Object(l.jsxs)("div",{children:[Object(l.jsx)("i",{className:"material-icons",onClick:n(t.id),children:"edit"}),Object(l.jsx)("i",{className:"material-icons",onClick:i(t.id),children:"delete"})]})]})}function f(e){var t=e.trains,n=e.onEdit,i=e.onDelete;return t.sort((function(e,t){return t.date.getTime()-e.date.getTime()})),Object(l.jsxs)("div",{className:"TrainRecord__history",children:[Object(l.jsxs)("header",{className:"TrainRecord__header",children:[Object(l.jsx)("div",{children:"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413\u0413\u0413)"}),Object(l.jsx)("div",{children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"}),Object(l.jsx)("div",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]}),Object(l.jsx)("ul",{className:"TrainRecord__table",children:t.map((function(e){return Object(l.jsx)(m,{item:e,onEdit:n,onDelete:i},e.id)}))})]})}function O(){var e={date:"",dist:"",edit:!1},t=Object(i.useState)(e),n=Object(u.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)([]),m=Object(u.a)(a,2),O=m[0],h=m[1];return Object(l.jsxs)("div",{className:"TrainRecord",children:[Object(l.jsx)(b,{form:r,onSubmit:function(t){if(t.preventDefault(),""!==r.date&&""!==r.dist){var n=r.date.split("."),i=new Date(n[2],n[1]-1,n[0]),a=O.findIndex((function(e){return e.date.getTime()===i.getTime()}));-1!==a?r.edit?O[a].dist=Number(r.dist):O[a].dist+=Number(r.dist):h((function(e){return[].concat(Object(o.a)(e),[{id:Object(j.a)(),date:i,dist:Number(r.dist)}])})),c(e)}},onChange:function(e){var t=e.target;c((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(d.a)({},t.name,t.value))}))}}),Object(l.jsx)(f,{trains:O,onEdit:function(e){return function(){var t=O.find((function(t){return t.id===e}));c({date:t.date.toLocaleDateString(),dist:t.dist,edit:!0})}},onDelete:function(e){return function(){h((function(t){return O.filter((function(t){return t.id!==e}))}))}}})]})}b.defaultProps={form:{date:"",dist:"",edit:!1}},f.defaultProps={trains:[]};var h=function(){return Object(l.jsx)(O,{})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),x()}},[[18,1,2]]]);
//# sourceMappingURL=main.751798b0.chunk.js.map